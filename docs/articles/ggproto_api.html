<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ggproto API • spinifex</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="ggproto API">
<meta property="og:description" content="spinifex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spinifex</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../articles/spinifex.html">vignette</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nspyrison/spinifex/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>ggproto API</h1>
                        <h4 data-toc-skip class="author">Nicholas Spyrison</h4>
            
            <h4 data-toc-skip class="date">2022-02-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/nspyrison/spinifex/blob/HEAD/vignettes/ggproto_api.Rmd" class="external-link"><code>vignettes/ggproto_api.Rmd</code></a></small>
      <div class="hidden name"><code>ggproto_api.Rmd</code></div>

    </div>

    
    
<!-- #Example vignette:
https://github.com/njtierney/naniar/blob/master/vignettes/getting-started-w-naniar.Rmd -->
<p><em>TL;DR: A proto is a list of <code>ggplot2</code> geoms. Proto can be used additively, and necessarily abstract away some of the fine details. We create functions to facilitate animations of linear projections, <strong>tours</strong>. We try to parallel the the workflow of creating ggplots.</em></p>
<div class="section level2">
<h2 id="what-is-a-proto">What is a proto?<a class="anchor" aria-label="anchor" href="#what-is-a-proto"></a>
</h2>
<p>We are moving to a new ‘<code>ggproto</code>’ API for constructing animated tours from <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a> objects. This interface should feel more comfortable to people already familiar with <a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a>. Ggproto is the parent class of geoms, layers, and some other plotting elements.</p>
<p>Proto objects (or lists of them) can be assigned to a variable without <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot()</a></code>, they store <em>unevaluated</em> code that will be used to plot. Let’s see what this looks like in ggplot2 before we delve into tour animations.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org" class="external-link">"ggplot2"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://magrittr.tidyverse.org" class="external-link">"magrittr"</a></span><span class="op">)</span>

<span class="co">## A ggproto:</span>
<span class="va">gp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">gp</span><span class="op">)</span>
<span class="co">#&gt; [1] "LayerInstance" "Layer"         "ggproto"       "gg"</span>

<span class="co">## A list of ggplot elements, a 'head-less' ggplot call</span>
<span class="va">gg_ls</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>
  <span class="va">gp</span>,
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html" class="external-link">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"loess"</span>, formula <span class="op">=</span> <span class="va">y</span> <span class="op">~</span> <span class="va">x</span><span class="op">)</span>,
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"proto_* functions return lists of geoms_* functions."</span>,
          <span class="st">"These lists can be stored, extended, and added to ggplot(). 
          \n We use this to include the animation of ggplots."</span><span class="op">)</span>,
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span>cols <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">Tree</span><span class="op">)</span><span class="op">)</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">gg_ls</span>, <span class="va">class</span><span class="op">)</span>
<span class="co">#&gt; [[1]]</span>
<span class="co">#&gt; [1] "LayerInstance" "Layer"         "ggproto"       "gg"           </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[2]]</span>
<span class="co">#&gt; [1] "LayerInstance" "Layer"         "ggproto"       "gg"           </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[3]]</span>
<span class="co">#&gt; [1] "labels"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [[4]]</span>
<span class="co">#&gt; [1] "FacetGrid" "Facet"     "ggproto"   "gg"</span>

<span class="co">## ggplot call, without geoms, a 'body-less' ggplot call</span>
<span class="va">gghead</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">Orange</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">age</span>, <span class="va">circumference</span>, color <span class="op">=</span> <span class="va">Tree</span><span class="op">)</span><span class="op">)</span>

<span class="co">## Evaluate together</span>
<span class="va">gghead</span> <span class="op">+</span>
  <span class="va">gg_ls</span></code></pre></div>
<p><img src="ggproto_api_files/figure-html/unnamed-chunk-1-1.png" width="576" style="display: block; margin: auto;"></p>
<p>In the <code>ggproto</code> API we use this feature to create <code>proto_*()</code> functions, the counter-parts of <code>geom_*()</code> functions. These proto functions are used in composition with <code><a href="../reference/ggtour.html">ggtour()</a></code>, which replaces <code><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot()</a></code>, to create animated tours. In adopting this additive, composition approach we aim to maximize the flexibility for the end-users to customize tours while keeping the door open for extension of the development of further <code>proto</code> functions.</p>
<table class="table">
<thead><tr class="header">
<th align="left">object</th>
<th align="left">ggplot2</th>
<th align="left">ggproto.api</th>
<th align="left">previous.api</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">head</td>
<td align="left">ggplot()</td>
<td align="left">ggtour()</td>
<td align="left">play_manual_tour()</td>
</tr>
<tr class="even">
<td align="left">body</td>
<td align="left">geom_*()</td>
<td align="left">proto_*()</td>
<td align="left">play_manual_tour()</td>
</tr>
<tr class="odd">
<td align="left">render</td>
<td align="left">NA</td>
<td align="left">animate_*()</td>
<td align="left">play_manual_tour(render_*())</td>
</tr>
</tbody>
</table>
<p><code><a href="../reference/play_manual_tour.html">play_manual_tour()</a></code> abstracted away complexity, but it was becoming too big, and consuming workflow which a function should venue too far into. This made it too bloated to allow for some flexibility, but hard to understand all of the arguments. By paring back to <code>proto_*</code> can keep details where they are more relevant without becoming overbearing in one monster function.</p>
</div>
<div class="section level2">
<h2 id="why-proto_-instead-of-new-geom_">Why ‘proto_*’ instead of new ‘geom_*’<a class="anchor" aria-label="anchor" href="#why-proto_-instead-of-new-geom_"></a>
</h2>
<p><code>{spinifex} proto_*</code> functions return a list of several <code>geom_*</code> functions, that were designed to facilitate animation across many projection bases. We abstract away of work and complexity that comes with creating and animating tours, but this comes at the price of flexibility. For instance, protos do not know how to deal with facets and hard-code the number and type of geoms which would otherwise become very burdensome to specify all the specifics of.</p>
</div>
<div class="section level2">
<h2 id="application">Application<a class="anchor" aria-label="anchor" href="#application"></a>
</h2>
<div class="section level3">
<h3 id="manual-tour">Manual tour<a class="anchor" aria-label="anchor" href="#manual-tour"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ggobi/tourr" class="external-link">tourr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nspyrison/spinifex/" class="external-link">spinifex</a></span><span class="op">)</span>

<span class="co">## Scale our numeric data</span>
<span class="va">dat</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scale_sd.html">scale_sd</a></span><span class="op">(</span><span class="va">penguins_na.rm</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span><span class="op">)</span>
<span class="co">## Use species as a class to set color and shape with</span>
<span class="va">clas</span> <span class="op">&lt;-</span> <span class="va">penguins_na.rm</span><span class="op">$</span><span class="va">species</span>

<span class="co">## Manual tour, manipulating the contribution of a selected variable </span>
<span class="va">bas</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/basis_pca.html">basis_pca</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span>    <span class="co">## Start basis</span>
<span class="va">mv</span>      <span class="op">&lt;-</span> <span class="fu"><a href="../reference/manip_var_of.html">manip_var_of</a></span><span class="op">(</span><span class="va">bas</span><span class="op">)</span> <span class="co">## Number of the variable to manipulate</span>
<span class="va">mt_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/manual_tour.html">manual_tour</a></span><span class="op">(</span><span class="va">bas</span>, manip_var <span class="op">=</span> <span class="va">mv</span><span class="op">)</span> <span class="co">## Tour path</span>

<span class="co">## Create a static ggplot2 plot with all frames of the tour</span>
<span class="va">ggt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggtour.html">ggtour</a></span><span class="op">(</span><span class="va">mt_path</span>, <span class="va">dat</span>, angle <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/proto_basis.html">proto_basis</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/proto_point.html">proto_point</a></span><span class="op">(</span>aes_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">clas</span>, shape <span class="op">=</span> <span class="va">clas</span><span class="op">)</span>,
              identity_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fl">1.5</span><span class="op">)</span><span class="op">)</span>

<span class="co">## Animate</span>
<span class="fu"><a href="../reference/animate_gganimate.html">animate_gganimate</a></span><span class="op">(</span><span class="va">ggt</span>, height <span class="op">=</span> <span class="fl">3</span>, width <span class="op">=</span> <span class="fl">4.5</span>, units <span class="op">=</span> <span class="st">"in"</span>, res <span class="op">=</span> <span class="fl">150</span><span class="op">)</span>
<span class="co">## Or as a plotly html widget</span>
<span class="co">#animate_plotly(ggt)</span></code></pre></div>
<p><img src="proto_mt_penguins.gif" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="grand-tour-from-tourr">Grand tour, from <strong>tourr</strong><a class="anchor" aria-label="anchor" href="#grand-tour-from-tourr"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Save a grand tour basis path, projecting through randomly selected bases</span>
<span class="va">gt_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/save_history.html">save_history</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fu"><a href="https://rdrr.io/pkg/tourr/man/grand_tour.html" class="external-link">grand_tour</a></span><span class="op">(</span><span class="op">)</span>, max_bases <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>

<span class="co">## Static ggplot of all frames in the tour</span>
<span class="va">ggt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggtour.html">ggtour</a></span><span class="op">(</span><span class="va">gt_path</span>, <span class="va">dat</span>, angle <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span> <span class="op">+</span> 
  <span class="co">## angle is the distance between (geodesically) interpolated frames.</span>
  <span class="fu"><a href="../reference/proto_basis.html">proto_basis</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"right"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/proto_point.html">proto_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">clas</span>, shape <span class="op">=</span> <span class="va">clas</span><span class="op">)</span><span class="op">)</span>

<span class="co">## Animate</span>
<span class="fu"><a href="../reference/animate_gganimate.html">animate_gganimate</a></span><span class="op">(</span><span class="va">ggt</span>, height <span class="op">=</span> <span class="fl">2</span>, width <span class="op">=</span> <span class="fl">4.5</span>, units <span class="op">=</span> <span class="st">"in"</span>, res <span class="op">=</span> <span class="fl">150</span><span class="op">)</span>
<span class="co">## Or as a plotly html widget</span>
<span class="co">#animate_plotly(ggt)</span></code></pre></div>
<p><img src="proto_gt_penguins.gif" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="d-tours">1D tours<a class="anchor" aria-label="anchor" href="#d-tours"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## (Quietly create) a 1d guided tour, optimizing the projection space for the holes() function</span>
<span class="va">guided_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/save_history.html">save_history</a></span><span class="op">(</span><span class="va">dat</span>, <span class="fu"><a href="https://rdrr.io/pkg/tourr/man/guided_tour.html" class="external-link">guided_tour</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/tourr/man/holes.html" class="external-link">holes</a></span><span class="op">(</span><span class="op">)</span>, d <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>

<span class="co">## Static ggplot of all frames in the tour</span>
<span class="va">ggt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggtour.html">ggtour</a></span><span class="op">(</span><span class="va">guided_path</span>, <span class="va">dat</span>, angle <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/proto_basis.html">proto_basis1d</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/proto_density.html">proto_density</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">clas</span>, color <span class="op">=</span> <span class="va">clas</span><span class="op">)</span>, rug_shape <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>

<span class="co">## Animate</span>
<span class="fu"><a href="../reference/animate_gganimate.html">animate_gganimate</a></span><span class="op">(</span><span class="va">ggt</span>, height <span class="op">=</span> <span class="fl">2</span>, width <span class="op">=</span> <span class="fl">4.5</span>, units <span class="op">=</span> <span class="st">"in"</span>, res <span class="op">=</span> <span class="fl">150</span><span class="op">)</span>
<span class="co">## Or as a plotly html widget</span>
<span class="co">#animate_plotly(ggt)</span></code></pre></div>
<p><img src="proto_guided1d_penguins.gif" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="interation-with-ggplot2-functions">Interation with ggplot2 functions<a class="anchor" aria-label="anchor" href="#interation-with-ggplot2-functions"></a>
</h3>
<p>because the output of <code>ggtour() + proto_*</code> is a ggplot, users are encouraged to theme and setting functions as well.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ggt</span> <span class="op">&lt;-</span> <span class="va">ggt</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"My Tour animation"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Projection Y1"</span>, y <span class="op">=</span> <span class="st">"density"</span><span class="op">)</span>

<span class="fu"><a href="../reference/animate_gganimate.html">animate_gganimate</a></span><span class="op">(</span><span class="va">ggt</span>, height <span class="op">=</span> <span class="fl">2</span>, width <span class="op">=</span> <span class="fl">4.5</span>, units <span class="op">=</span> <span class="st">"in"</span>, res <span class="op">=</span> <span class="fl">150</span><span class="op">)</span>
<span class="co">## Or as a plotly html widget</span>
<span class="co">#animate_plotly(ggt)</span></code></pre></div>
<p><img src="proto_guided1d_interop_penguins.gif" width="100%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="faceting">Faceting<a class="anchor" aria-label="anchor" href="#faceting"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dat</span>     <span class="op">&lt;-</span> <span class="fu"><a href="../reference/scale_sd.html">scale_sd</a></span><span class="op">(</span><span class="va">PimaIndiansDiabetes_wide</span><span class="op">[</span>, <span class="op">-</span><span class="fl">9</span><span class="op">]</span><span class="op">)</span>
<span class="va">clas</span>    <span class="op">&lt;-</span> <span class="va">PimaIndiansDiabetes_wide</span><span class="op">$</span><span class="va">diabetes</span>
<span class="va">gt_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/save_history.html">save_history</a></span><span class="op">(</span><span class="va">dat</span>, max <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>

<span class="va">ggt</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ggtour.html">ggtour</a></span><span class="op">(</span><span class="va">gt_path</span>, <span class="va">dat</span>, angle <span class="op">=</span> <span class="fl">.3</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/facet_wrap_tour.html">facet_wrap_tour</a></span><span class="op">(</span>facet_var <span class="op">=</span> <span class="va">clas</span>, nrow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/proto_point.html">proto_point</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">clas</span>, shape <span class="op">=</span> <span class="va">clas</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/proto_basis.html">proto_basis</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"center"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="../reference/proto_origin.html">proto_origin</a></span><span class="op">(</span><span class="op">)</span>

<span class="fu"><a href="../reference/animate_gganimate.html">animate_gganimate</a></span><span class="op">(</span><span class="va">ggt</span>, height <span class="op">=</span> <span class="fl">2</span>, width <span class="op">=</span> <span class="fl">4.5</span>, units <span class="op">=</span> <span class="st">"in"</span>, res <span class="op">=</span> <span class="fl">150</span><span class="op">)</span>
<span class="co">## Or as a plotly html widget</span>
<span class="co">#animate_plotly(ggt)</span></code></pre></div>
<p><img src="proto_facet_penguins.gif" width="100%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="proto-functions">Proto functions<a class="anchor" aria-label="anchor" href="#proto-functions"></a>
</h2>
<p>More protos will be added, especially as we find a use-case for them. Check the documentation for <code>ggtour</code>, all ggtour and proto related functions are linked in the See Also.</p>
<table class="table">
<colgroup>
<col width="9%">
<col width="17%">
<col width="73%">
</colgroup>
<thead><tr class="header">
<th align="left">proto functions</th>
<th align="left">related ggplot2 function</th>
<th align="left">detail</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ggtour</td>
<td align="left">ggplot</td>
<td align="left">Also perfroms setup for the tour.</td>
</tr>
<tr class="even">
<td align="left">proto_point</td>
<td align="left">geom_point</td>
<td align="left">-</td>
</tr>
<tr class="odd">
<td align="left">proto_text</td>
<td align="left">geom_text</td>
<td align="left">-</td>
</tr>
<tr class="even">
<td align="left">proto_hex</td>
<td align="left">geom_hex</td>
<td align="left">Heatmap hexegons, for high observation density</td>
</tr>
<tr class="odd">
<td align="left">proto_origin/1d</td>
<td align="left">NA</td>
<td align="left">Line segments for the origin, the space where 0 values project to</td>
</tr>
<tr class="even">
<td align="left">proto_density</td>
<td align="left">geom- _density &amp; _rect</td>
<td align="left">1D density with run hash marks underneath, <code>position = 'stack'</code> not working with plotly.</td>
</tr>
<tr class="odd">
<td align="left">proto_basis/1d</td>
<td align="left">geom- _segment &amp; _text</td>
<td align="left">html widget, row numbers added as tooltip on hover. plotly doesn’t presicly map all ggplot2 settings; legends, point size and opacity may vary.</td>
</tr>
<tr class="even">
<td align="left">proto_default/1d</td>
<td align="left">several protos</td>
<td align="left">Direction and magnetude of variables to the projection disp~</td>
</tr>
<tr class="odd">
<td align="left">animate_plotly</td>
<td align="left">plotly::ggplotly (with animation)</td>
<td align="left">Default protos for 2/1D tours</td>
</tr>
<tr class="even">
<td align="left">animate_gganimate</td>
<td align="left">gganimate::animate</td>
<td align="left">gif, mp4 and other video animation. gganimate consumes native ggplots and aestheics should be consistant.</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Nicholas Spyrison, Dianne Cook.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '',
    indexName: 'spinifex',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
